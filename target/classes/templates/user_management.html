<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
 User Management System
</head>
<body>
<h1>User Management</h1>
<table class="table table-striped">
  <thead>
  <tr>
    <th>First Name</th>
    <th>Last Name</th>
    <th>Email</th>
    <th>Roles</th>
    <th>Actions</th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="user : ${users}">
    <td th:text="${user.firstName}"></td>
    <td th:text="${user.lastName}"></td>
    <td th:text="${user.email}"></td>
    <td>
      <span th:each="role : ${user.roles}" th:text="${role.name} + ' '"></span>
    </td>
    <td>
      <!-- Delete button for each role -->
      <button class="btn btn-danger" th:each="role : ${user.roles}"
              th:if="${role.name != 'ROLE_ADMIN'}"
              th:onclick="'window.location.href = \'/admin/users/delete/\' + ${user.email} + \'/\' + ${role.name}'">
        Delete Role: <span th:text="${role.name}"></span>
      </button>
    </td>
  </tr>
  </tbody>
</table>
</body>
</html>
